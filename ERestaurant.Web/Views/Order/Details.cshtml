@using ERestaurant.Domain.DomainModels
@model Order
@{
    ViewData["Title"] = "Order Details";
}
<h2>Order Details</h2>

<dl class="row">
    <dt class="col-sm-2">Customer</dt>
    <dd class="col-sm-10">@Model.Customer?.FirstName @Model.Customer?.LasttName</dd>

    <dt class="col-sm-2">Created</dt>
    <dd class="col-sm-10">@Model.CreatedAt</dd>

    <dt class="col-sm-2">Status</dt>
    <dd class="col-sm-10">@Model.Status</dd>

    <dt class="col-sm-2">Total</dt>
    <dd class="col-sm-10">@Model.TotalPrice</dd>
</dl>

<h4>Items</h4>
<table class="table table-bordered">
    <thead><tr><th>Item</th><th>Qty</th></tr></thead>
    <tbody>
        @foreach (var it in Model.OrderItems ?? new List<OrderItem>())
        {
            <tr>
                <td>@it.MenuItem?.Name (@it.MenuItem?.Price)</td>
                <td>@it.Quantity</td>
            </tr>
        }
    </tbody>
</table>

@if (Model.Delivery != null)
{
    <h4>Delivery</h4>
    <dl class="row">
        <dt class="col-sm-2">Address</dt>
        <dd class="col-sm-10">@Model.Delivery.DeliveryAddress</dd>
        <dt class="col-sm-2">ETA</dt>
        <dd class="col-sm-10">@Model.Delivery.EstimatedDeliveryTime</dd>
        <dt class="col-sm-2">Status</dt>
        <dd class="col-sm-10">@Model.Delivery.Status</dd>
    </dl>
}

<a asp-action="Index" class="btn btn-secondary">Back</a>
